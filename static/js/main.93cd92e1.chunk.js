(this["webpackJsonppineapple-music"]=this["webpackJsonppineapple-music"]||[]).push([[0],{142:function(e,t,n){},143:function(e,t,n){},151:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},155:function(e,t,n){},174:function(e,t){},193:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(44),s=n.n(r),i=(n(142),n(52)),o=n(26),l=(n(143),n(2));var u=function(e){e.type;var t=e.placeholder;return Object(l.jsx)("div",{children:Object(l.jsx)("input",{className:"input",placeholder:t&&t,type:"text"})})},j=n(0),d=n.n(j),b=n(5),p=n(249),h=n(15),O=n(75),m=n(28),x=n(82),f=Object(O.a)({apiKey:"AIzaSyB_IknUnLChJp9vG9kip0_Xu1YaqKed2Sk",authDomain:"pineapple-music-1ea51.firebaseapp.com",projectId:"pineapple-music-1ea51",storageBucket:"pineapple-music-1ea51.appspot.com",messagingSenderId:"171412581022",appId:"1:171412581022:web:bd4f9b6de4f7de0c17a98f",measurementId:"G-QZK0B417MX"}),v=Object(m.b)(),g=Object(x.c)(f),w=a.a.createContext();function y(){return Object(c.useContext)(w)}function k(e){var t=e.children,n=Object(c.useState)(),a=Object(h.a)(n,2),r=a[0],s=a[1];function i(){return(i=Object(b.a)(d.a.mark((function e(t,n){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(m.a)(v,t,n),e.prev=1,e.next=4,Object(x.a)(Object(x.b)(g,"users"),{uid:"testUID",SpotifyToken:"testToken"});case 4:a=e.sent,console.log("Doc written w/ ID: ",a.id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error adding doc: ",e.t0);case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}Object(c.useEffect)((function(){return v.onAuthStateChanged((function(e){s(e)}))}),[]);var o={currentUser:r,signup:function(e,t){return i.apply(this,arguments)},login:function(e,t){return Object(m.e)(v,e,t)},logout:function(){return Object(m.f)(v)}};return Object(l.jsx)(w.Provider,{value:o,children:t})}var S=function(){var e=y().logout,t=Object(o.g)();function n(){return(n=Object(b.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e();case 3:t.push("/login"),n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}return Object(l.jsx)(p.a,{variant:"link",onClick:function(){return n.apply(this,arguments)},children:"Log out"})};var N=function(){return Object(l.jsxs)("div",{className:"my-account",children:[Object(l.jsxs)("form",{className:"change-password-f",children:[Object(l.jsx)("h1",{children:"Change Password"}),Object(l.jsx)(u,{placeholder:"New Password",type:"password"}),Object(l.jsx)(u,{placeholder:"Confirm Password",type:"password"}),Object(l.jsx)("button",{children:"Submit"})]}),Object(l.jsx)(S,{})]})};n.p;var C=function(){return Object(l.jsx)("div",{className:"home",children:Object(l.jsx)("h1",{children:"Home"})})};n(151);var P=n(119),U=n.n(P),I=n(120),R=n.n(I),L=n(101),E=n.n(L),D=n(121),A=n.n(D),F=[{title:"Home",icon:Object(l.jsx)(U.a,{}),link:"/"},{title:"Search",icon:Object(l.jsx)(E.a,{}),link:"/search"},{title:"Group Session",icon:Object(l.jsx)(E.a,{}),link:"/creategroup"},{title:"My Account",icon:Object(l.jsx)(R.a,{}),link:"/myaccount"},{title:"Profile",icon:Object(l.jsx)(A.a,{}),link:"/profilepicture"}];var B=function(){return Object(l.jsx)("div",{className:"Navbar",children:Object(l.jsx)("ul",{className:"NavbarList",children:F.map((function(e,t){return Object(l.jsxs)("li",{className:"row",id:window.location.pathname==e.link?"active":"",onClick:function(){window.location.pathname=e.link},children:[" ",Object(l.jsxs)("div",{id:"icon",children:[" ",e.icon]})," ",Object(l.jsx)("div",{id:"title",children:e.title})]},t)}))})})},W=n(254),z=n(256),_=n(248),T=n(257),q=n(244),G=n(258),M=n(122),H=n.n(M),V=n(250),Z=n(252),K=n(253),Q=n(255);var J=function(e){var t=e.props,n=t.title,c=t.imageUrl,a=t.username,r=t.createdAt,s=t.sessionId;return Object(l.jsxs)(V.a,{sx:{maxWidth:345},children:[Object(l.jsx)(Z.a,{component:"img",height:"140",image:c,alt:"group session image"}),Object(l.jsxs)(K.a,{children:[Object(l.jsx)(W.a,{gutterBottom:!0,variant:"h5",component:"div",children:n}),Object(l.jsxs)(W.a,{variant:"body2",color:"text.secondary",children:["Owner: ",a]}),Object(l.jsxs)(W.a,{variant:"body2",color:"text.secondary",children:["Created at: ",r]})]}),Object(l.jsxs)(Q.a,{children:[Object(l.jsx)(p.a,{size:"small",children:"Join"}),Object(l.jsxs)(p.a,{size:"small",children:["Session ID: ",s]})]})]})},X=n(243);var Y=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(W.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Create a new session"}),Object(l.jsxs)("form",{noValidate:!0,children:[Object(l.jsx)(X.a,{required:!0,id:"name",name:"name",type:"name",label:"Name",variant:"filled",fullWidth:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(p.a,{type:"submit",variant:"contained",color:"primary",onClick:function(e){e.prevnetDefault()},children:"Create"})]})]})},$={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};var ee=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),n=t[0],a=t[1],r={title:"group session1",imageUrl:"https://image.spreadshirtmedia.com/image-server/v1/mp/products/T1459A839MPA3861PT28D1023062364FS1458/views/1,width=378,height=378,appearanceId=839,backgroundColor=F2F2F2/pineapple-listening-to-music-cartoon-sticker.jpg",username:"username1",createdAt:(new Date).toLocaleDateString(),sessionId:1234},s=[r,r,r,r,r];return Object(l.jsxs)("div",{children:[Object(l.jsx)(W.a,{component:"h1",variant:"h2",align:"center",color:"text.primary",gutterBottom:!0,children:"Group Listening"}),Object(l.jsx)(z.a,{maxWidth:"md",children:Object(l.jsxs)(_.a,{container:!0,alignItems:"center",justifyContent:"center",spacing:9,children:[Object(l.jsxs)(_.a,{justifyContent:"center",align:"center",item:!0,xs:12,sm:6,md:4,children:[Object(l.jsx)(T.a,{color:"primary",onClick:function(){return a(!0)},children:Object(l.jsx)(H.a,{sx:{fontSize:80}})}),Object(l.jsx)(q.a,{open:n,onClose:function(){return a(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsx)(G.a,{sx:$,children:Object(l.jsx)(Y,{})})}),Object(l.jsx)("br",{}),"Create a new session"]}),s.map((function(e){return Object(l.jsx)(_.a,{item:!0,xs:12,sm:6,md:4,children:Object(l.jsx)(J,{props:e})},e)}))]})})]})},te=n(246),ne="b85b37966e894d9cb8eb8d776047f000",ce="https://accounts.spotify.com/authorize",ae="http://localhost:3000/Pineapple-Music",re=["user-read-currently-playing","user-read-playback-state"].join("%20"),se=function(e){return e.substring(1).split("&").reduce((function(e,t){var n=t.split("="),c=Object(h.a)(n,2),a=c[0],r=c[1];return e[a]=r,e}),{})};var ie=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useRef)(),a=y(),r=a.signup,s=(a.currentUser,Object(c.useState)("")),u=Object(h.a)(s,2),j=u[0],O=u[1],m=Object(c.useState)(!1),x=Object(h.a)(m,2),f=x[0],v=x[1],g=Object(o.g)();function w(){return(w=Object(b.a)(d.a.mark((function c(a){return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(a.preventDefault(),t.current.value===n.current.value){c.next=3;break}return c.abrupt("return",O("Passwords do not match"));case 3:if(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e.current.value).toLowerCase())){c.next=6;break}return c.abrupt("return",O("Email not valid"));case 6:return c.prev=6,O(""),v(!0),window.location="".concat(ce,"?client_id=").concat(ne,"&redirect_uri=").concat(ae,"&scope=").concat(re,"&response_type=token&show_dialog=true"),c.next=12,se(window.location.hash);case 12:return c.sent,c.next=15,r(e.current.value,t.current.value);case 15:g.push("/"),c.next=21;break;case 18:c.prev=18,c.t0=c.catch(6),O("Failed to create an account");case 21:v(!1);case 22:case"end":return c.stop()}}),c,null,[[6,18]])})))).apply(this,arguments)}return Object(l.jsx)(z.a,{align:"center",justifyContent:"center",className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(l.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(l.jsx)(V.a,{children:Object(l.jsxs)(K.a,{children:[Object(l.jsx)("h2",{className:"text-center mt-4",children:"Sign Up"}),j&&Object(l.jsx)(te.a,{variant:"danger",children:j}),Object(l.jsx)(X.a,{required:!0,id:"email",name:"email",type:"email",label:"Email",variant:"filled",inputRef:e,fullWidth:!0}),Object(l.jsx)(X.a,{required:!0,id:"password",name:"password",type:"password",label:"Password",variant:"filled",inputRef:t,fullWidth:!0}),Object(l.jsx)(X.a,{required:!0,id:"confirmPassword",name:"confirmPassword",type:"password",label:"ConfirmPassword",variant:"filled",inputRef:n,fullWidth:!0}),Object(l.jsx)(p.a,{disabled:f,className:"w-100",type:"submit",onClick:function(e){return w.apply(this,arguments)},children:"Sign Up"})]})}),Object(l.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(l.jsx)(i.b,{to:"/login",children:"Log In"})]})]})})};var oe=function(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=y().login,a=Object(c.useState)(""),r=Object(h.a)(a,2),s=r[0],u=r[1],j=Object(c.useState)(!1),O=Object(h.a)(j,2),m=O[0],x=O[1],f=Object(o.g)();function v(){return(v=Object(b.a)(d.a.mark((function c(a){return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),c.prev=1,u(""),x(!0),c.next=6,n(e.current.value,t.current.value);case 6:f.push("/"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),u("Failed to log in");case 12:x(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(l.jsx)(z.a,{align:"center",justifyContent:"center",className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(l.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(l.jsx)(V.a,{children:Object(l.jsxs)(K.a,{children:[Object(l.jsx)("h2",{className:"text-center mt-4",children:"Log In"}),s&&Object(l.jsx)(te.a,{variant:"danger",children:s}),Object(l.jsx)(X.a,{required:!0,id:"email",name:"email",type:"email",label:"Email",variant:"filled",inputRef:e,fullWidth:!0}),Object(l.jsx)(X.a,{required:!0,id:"password",name:"password",type:"password",label:"Password",variant:"filled",inputRef:t,fullWidth:!0}),Object(l.jsx)(p.a,{disabled:m,className:"w-100",type:"submit",onClick:function(e){return v.apply(this,arguments)},children:"Log In"})]})}),Object(l.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(l.jsx)(i.b,{to:"/signup",children:"Sign Up"})]}),Object(l.jsxs)("div",{className:"w-100 text-center mt-2",children:["Forgot Password? ",Object(l.jsx)(i.b,{to:"/resetpassword",children:"Reset Password"})]})]})})};var le=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),n=t[0],a=t[1];return Object(l.jsxs)("div",{className:"input-container",children:[Object(l.jsx)("h1",{children:"Reset Password"}),Object(l.jsx)("input",{placeholder:"Email Address",type:"text",onChange:function(e){a(e.target.value)}}),Object(l.jsx)("button",{onClick:function(){var e=Object(m.b)(),t=n;if(console.warn(n),""!=n)try{Object(m.d)(e,t),window.alert("An email has been sent.")}catch(c){window.alert("There was an error.")}else window.alert("Please enter an email.")},children:"Confirmation Email"})]})};n(84),n(126);var ue=n(4),je=n(7),de=n(12),be=n(13),pe=(n(153),Object(O.a)({apiKey:"AIzaSyB_IknUnLChJp9vG9kip0_Xu1YaqKed2Sk",authDomain:"pineapple-music-1ea51.firebaseapp.com",projectId:"pineapple-music-1ea51",storageBucket:"pineapple-music-1ea51.appspot.com",messagingSenderId:"171412581022",appId:"1:171412581022:web:bd4f9b6de4f7de0c17a98f",measurementId:"G-QZK0B417MX"}),Object(m.b)(),null),he=null,Oe=Object(m.b)(),me=function(e){Object(de.a)(n,e);var t=Object(be.a)(n);function n(e){var c;return Object(ue.a)(this,n),(c=t.call(this,e)).state={picture:!1,src:!1},Object(m.c)(Oe,(function(e){e?(pe=Oe.currentUser,null!=(he=pe.photoURL)&&c.setState({src:he})):console.log("NOT CORRECT")})),c}return Object(je.a)(n,[{key:"handlePictureSelected",value:function(e){var t=e.target.files[0],n=URL.createObjectURL(t);he=n,Object(m.g)(Oe.currentUser,{photoURL:he}).then((function(){console.log("PROFILE UPDATED"),console.log(pe.photoURL)})).catch((function(e){console.log("PROFILE NOT UPDATED")})),this.setState({picture:t,src:n})}},{key:"render",value:function(){return console.log("HELLO@"),console.log(this.state.src),Object(l.jsxs)("div",{className:"profile-header",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("text",{className:"text",children:"Upload Profile Image"}),Object(l.jsx)("input",{type:"file",onChange:this.handlePictureSelected.bind(this)})]}),Object(l.jsx)("div",{className:"image-container",children:Object(l.jsx)("img",{src:this.state.src,className:"App-logo"})})]})}}]),n}(a.a.Component),xe=(n(154),n(155),n(123)),fe=n.n(xe),ve=n(124),ge=n.n(ve);function we(e){var t=e.track;e.chooseTrack;return Object(l.jsxs)("div",{className:"d-flex m-2 align-items-center",style:{cursor:"pointer"},children:[Object(l.jsx)("img",{src:t.albumUrl,style:{height:"64px",width:"64px"}}),Object(l.jsxs)("div",{className:"ml-3",children:[Object(l.jsx)("div",{children:t.title}),Object(l.jsx)("div",{className:"text-muted",children:t.artist})]})]})}var ye=new(n(156))({clientId:"477666821b8941c4bd163b4ff55ed9af",clientSecret:"5a9f7c25c73a46ca958cf138c64f1297",redirectUri:"localhost:3000/Pineapple-Music"});var ke=function(e){var t=e.placeholder,n=e.spotifyData;e.authorized,console.log(n);var a=Object(c.useState)([]),r=Object(h.a)(a,2),s=r[0],i=r[1],o=Object(c.useState)(""),u=Object(h.a)(o,2),j=u[0],d=u[1],b=Object(c.useState)([]),p=Object(h.a)(b,2),O=p[0],m=p[1],x="BQBdR3UjvW8zYpbrOLSPd9taFSv8uHdHavHpJZ6StDPg1pSlR0sdFGbsPTm38V1XUMcxnUWtOfqe5Bbmuc5fqf6DUpM4pWUqfe3voZGR3qnAQAKHG35hFV-tPLsSVyj-3iUxsxM3P0cleWUBr9tvMRkzXVWPticEau1mmdi1GG5FG_mFECzYgDx979ZCvYQ6ZFkxNodiekzV_1mx1EeBh2LEibLgeVEjab3L0MxW4UcChb_BzGcdUtANrBO1yWBR9x_QVgZF4KVathktiqzFn802hFj7URPWjcQQ6p4o4ovvflPL2r6x";return Object(c.useEffect)((function(){ye.setAccessToken(x)}),[x]),Object(c.useEffect)((function(){if(!j)return m([]);ye.searchTracks(j).then((function(e){m(e.body.tracks.items.map((function(e){var t=e.album.images.reduce((function(e,t){return t.height<e.height?t:e}),e.album.images[0]);return{artist:e.artists[0].name,title:e.name,uri:e.uri,albumUrl:t.url}})))}))}),[j,x]),Object(l.jsxs)("div",{className:"search",children:[Object(l.jsxs)("div",{className:"searchInputs",children:[Object(l.jsx)("input",{type:"text",placeholder:t,value:j,onChange:function(e){var t=e.target.value;d(t)}}),Object(l.jsx)("div",{className:"searchIcon",children:0===s.length?Object(l.jsx)(fe.a,{}):Object(l.jsx)(ge.a,{id:"clearBtn",onClick:function(){i([]),d("")}})})]}),0!=O.length&&Object(l.jsx)("div",{className:"dataResult",children:O.slice(0,10).map((function(e){return Object(l.jsx)(we,{track:e},e.uri)}))})]})},Se=["user-read-currently-playing","user-read-playback-state"].join("%20"),Ne=function(){window.location="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("477666821b8941c4bd163b4ff55ed9af","&redirect_uri=").concat("http://localhost:3000/Pineapple-Music","&scope=").concat(Se,"&response_type=token&show_dialog=true")};var Ce=function(){var e=Object(c.useState)(!0),t=Object(h.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)({}),s=Object(h.a)(r,2),i=s[0],o=s[1];return Object(c.useEffect)((function(){var e;window.location.hash&&(o((e=window.location.hash,e.substring(1).split("&").reduce((function(e,t){var n=t.split("="),c=Object(h.a)(n,2),a=c[0],r=c[1];return e[a]=r,e}),{})).access_token),console.log(i),a(!1))}),[n]),Object(l.jsxs)("div",{className:"SearchPage",children:[Object(l.jsx)(ke,{placeholder:"Enter a song name...",spotifyData:i,authorized:n}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(p.a,{variant:"outlined",color:"primary",onClick:Ne,children:"Login to Spotify"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{})]})};var Pe=function(){return Object(l.jsx)(i.a,{children:Object(l.jsxs)(k,{children:[Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{path:"/signup",component:ie}),Object(l.jsx)(o.b,{path:"/login",component:oe}),Object(l.jsx)(o.b,{path:"/resetpassword",component:le})]}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(B,{}),Object(l.jsx)("div",{className:"content",children:Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{exact:!0,path:"/",component:C}),Object(l.jsx)(o.b,{path:"/search",component:Ce}),Object(l.jsx)(o.b,{path:"/creategroup",component:ee}),Object(l.jsx)(o.b,{path:"/myaccount",component:N}),Object(l.jsx)(o.b,{path:"/profilepicture",component:me})]})})]})]})})};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(Pe,{})}),document.getElementById("root"))}},[[193,1,2]]]);
//# sourceMappingURL=main.93cd92e1.chunk.js.map